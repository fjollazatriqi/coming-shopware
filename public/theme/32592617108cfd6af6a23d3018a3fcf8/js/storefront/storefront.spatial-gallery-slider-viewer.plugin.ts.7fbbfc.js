"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[88579],{3362:(i,e,t)=>{t.d(e,{A:()=>n});var s=t(4335),l=t(6647);class n extends s.A{async init(){await (0,l.X)(),await this.initViewer()}async initViewer(){this.setReady(!1),this.canvas=this.el,this.canvas.tabIndex=0,void 0==this.dive&&(this.dive=await window.DIVEQuickViewPlugin.QuickView(this.options.modelUrl,{autoStart:!1,canvas:this.canvas,displayFloor:!0,lightIntensity:this.options.lightIntensity?this.options.lightIntensity/100:1})),this.$emitter.publish("Viewer/initViewer")}startRendering(){this.rendering||(this.rendering=!0,this.dive?.start(),this.canvas?.parentElement?.classList.add("spatial-canvas-rendering"),this.ready&&this.canvas?.parentElement?.classList.add("spatial-canvas-display"),this.$emitter.publish("Viewer/startRendering"))}stopRendering(){this.rendering=!1,this.dive?.stop(),this.canvas?.parentElement?.classList.remove("spatial-canvas-rendering"),this.$emitter.publish("Viewer/stopRendering")}setReady(i){this.ready!==i&&(this.ready=i,this.onReady(i))}onReady(i){void 0!=this.canvas&&(i?(this.$emitter.publish("Viewer/ready"),this.canvas.parentElement?.classList.add("spatial-canvas-ready"),this.rendering&&this.canvas.parentElement?.classList.add("spatial-canvas-display")):(this.$emitter.publish("Viewer/notReady"),this.canvas.parentElement?.classList.remove("spatial-canvas-ready"),this.canvas.parentElement?.classList.remove("spatial-canvas-display")))}constructor(...i){super(...i),this.rendering=!1,this.ready=!1}}},8579:(i,e,t)=>{t.r(e),t.d(e,{default:()=>a});var s=t(3362);class l{static #i=this.options={sliderSelector:".tns-item",gallerySliderSelector:".gallery-slider-row",sliderPositionAttribute:"data-product-slider-position",singleImageGallerySelector:".gallery-slider-single-image",gallerySliderDisabledClass:"gallery-slider-canvas-disabled"};constructor(i){this.sliderElement=null,this.tnsSlider=null,this.sliderPlugin=null,this.plugin=i,this.init()}init(){this.refreshSliderElements(),null!=this.sliderElement&&null!=this.tnsSlider&&this.initEventListeners()}initRender(){let i=this.tnsSlider?.getInfo();(this.plugin.el?.closest(l.options.gallerySliderSelector)?.querySelector(l.options.singleImageGallerySelector)||i?.slideItems[i.index]===this.sliderElement)&&this.plugin.startRendering()}initEventListeners(){this.sliderPlugin?.$emitter.unsubscribe("rebuild",this.rebuildEvent.bind(this)),this.tnsSlider?.events.on("indexChanged",this.indexChangedEvent.bind(this)),this.sliderPlugin?.$emitter.subscribe("rebuild",this.rebuildEvent.bind(this))}removeDisabled(){this.plugin.el?.parentElement?.parentElement?.classList.remove(l.options.gallerySliderDisabledClass)}rebuildEvent(){window.PluginManager.initializePlugin("SpatialGallerySliderViewer","[data-spatial-gallery-slider-viewer]"),window.PluginManager.initializePlugin("SpatialZoomGallerySliderViewer","[data-spatial-zoom-gallery-slider-viewer]"),window.PluginManager.initializePlugin("SpatialArViewer","[data-spatial-ar-viewer]")}indexChangedEvent(i){this.plugin.sliderIndex==i.index?setTimeout(()=>{this.plugin.sliderIndex==this.tnsSlider.getInfo().index&&this.plugin.startRendering()},500):this.plugin.stopRendering()}refreshSliderElements(){this.sliderElement=this.plugin?.el?.closest(l.options.sliderSelector),this.sliderPlugin=this.getSliderPlugin(),null!=this.sliderPlugin&&(this.tnsSlider=this.sliderPlugin._slider)}getSliderPlugin(){let i=this.plugin?.el?.closest(l.options.gallerySliderSelector);if(null==i||void 0==i)return null;let e=window.PluginManager.getPluginInstanceFromElement(i,"GallerySlider");return null==e?null:e}}var n=t(6647);class a extends s.A{async init(){let i=document.querySelector(".zoom-modal-wrapper"),e=i?.querySelector(".zoom-modal");e?.addEventListener("hidden.bs.modal",()=>{this.dive?.start()}),e?.addEventListener("shown.bs.modal",()=>{this.dive?.stop()}),await (0,n.X)(),this.el&&(this.sliderIndex=Number(this.options.sliderPosition),this.spatialProductSliderRenderUtil=new l(this),this.spatialProductSliderRenderUtil.removeDisabled(),await this.initViewer())}async initViewer(){try{await super.initViewer()}catch(i){this.el?.parentElement?.parentElement?.classList.add("gallery-slider-canvas-disabled")}finally{this.setReady(!0),this.spatialProductSliderRenderUtil?.initRender()}}}},6647:(i,e,t)=>{t.d(e,{X:()=>s});async function s(){return(window.loadDiveUtil||(window.loadDiveUtil={promise:null}),window.DIVEClass||window.DIVEARPlugin||window.DIVEQuickViewPlugin)?Promise.resolve():(window.loadDiveUtil.promise||(window.loadDiveUtil.promise=new Promise(i=>{Promise.all([Promise.all([t.e(24720),t.e(50209)]).then(t.bind(t,209)),Promise.all([t.e(24720),t.e(16775),t.e(75197),t.e(93772)]).then(t.bind(t,3772)),Promise.all([t.e(24720),t.e(87411)]).then(t.bind(t,7411))]).then(e=>{let[t,s,l]=e;window.DIVEClass=t.DIVE,window.DIVEARPlugin=s,window.DIVEQuickViewPlugin=l,i()})})),window.loadDiveUtil.promise)}}}]);