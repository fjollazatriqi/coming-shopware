"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42422],{2188:(t,e,i)=>{i.d(e,{A:()=>s});var r=i(4335);class s extends r.A{init(){let t=document.getElementById("recaptcha-script");if(!t||t.hasAttribute("src"))return;let e=t.getAttribute("data-src");e&&this._isValidUrl(e)&&t.setAttribute("src",encodeURI(e)),window.grecaptcha&&"function"==typeof window.grecaptcha.ready&&window.grecaptcha.ready(this._executeGoogleReCaptchaInitialization.bind(this))}_executeGoogleReCaptchaInitialization(){if(this._getForm(),this._form){if(this.grecaptchaInput=this.el.querySelector(this.options.grecaptchaInputSelector),!this.grecaptchaInput)throw Error("Input field for Google reCAPTCHA is missing!");if(this.grecaptcha=window.grecaptcha,!this.grecaptcha||"function"!=typeof this.grecaptcha.render&&"function"!=typeof this.grecaptcha.execute)throw Error("Google reCAPTCHA object (window.grecaptcha) methods (render/execute) not available.");this._formSubmitting=!1,this.formPluginInstances=window.PluginManager.getPluginInstancesFromElement(this._form),this._setGoogleReCaptchaHandleSubmit(),this._registerEvents()}}getGreCaptchaInfo(){}onFormSubmit(){}_getForm(){return this.el&&"FORM"===this.el.nodeName?(this._form=this.el,!0):(this._form=this.el.closest("form"),this._form)}_registerEvents(){this._form.addEventListener("submit",this._onFormSubmitCallback.bind(this))}_submitInvisibleForm(){if(!this._form.checkValidity()){this._formSubmitting=!1;return}if(this.$emitter.publish("beforeGreCaptchaFormSubmit",{info:this.getGreCaptchaInfo(),token:this.grecaptchaInput.value}),this._isCmsForm()){let t=this.formPluginInstances.get("FormCmsHandler");if(t){t._submitForm();return}}let t=!1;for(let e of this.formPluginInstances)"function"==typeof e.sendAjaxFormSubmit&&!1!==e.options.useAjax&&(t=!0,e.sendAjaxFormSubmit());t||this._form.submit()}_onFormSubmitCallback(t){this._formSubmitting||(t.preventDefault(),this._formSubmitting=!0,this.onFormSubmit())}_setGoogleReCaptchaHandleSubmit(){for(let t of this.formPluginInstances)"function"==typeof t.sendAjaxFormSubmit&&!1!==t.options.useAjax&&(t.formSubmittedByCaptcha=!0)}_isCmsForm(){return this.formPluginInstances.has("FormCmsHandler")}_isValidUrl(t){try{let e=new URL(t);return["http:","https:"].includes(e.protocol)}catch(t){return!1}}}},2422:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});var r=i(2188);class s extends r.A{static #t=this.options={siteKey:null,grecaptchaInputSelector:".grecaptcha_v3-input"};init(){super.init()}onFormSubmit(){this.grecaptcha.ready(this._onGreCaptchaReady.bind(this))}getGreCaptchaInfo(){return{version:"GoogleReCaptchaV3"}}_onGreCaptchaReady(){this.grecaptcha.execute(this.options.siteKey,{action:"submit"}).then(t=>{this.$emitter.publish("onGreCaptchaTokenResponse",{info:this.getGreCaptchaInfo(),token:t}),this.grecaptchaInput.value=t,this._formSubmitting=!1,this._submitInvisibleForm()})}}}}]);