"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[51141],{1141:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var o=i(4059),s=i(4632),n=i(1452),d=i(4335);class h extends d.A{static #e=this.options={cookieExpiration:30,cookieName:"cookie-preference",buttonSelector:".js-cookie-permission-button",resizeDebounceTime:200};init(){this._button=this.el.querySelector(this.options.buttonSelector),this._isPreferenceSet()||(this._setBodyPadding(),this._registerEvents()),this._registerShowAndHideCookieBarEvents()}_isPreferenceSet(){return!!n.A.getItem(this.options.cookieName)||(this._showCookieBar(),!1)}_showCookieBar(){this.el.style.display="block",this.$emitter.publish("showCookieBar")}_hideCookieBar(){this.el.style.display="none",this.$emitter.publish("hideCookieBar")}_registerEvents(){if(this._button){let e=s.A.isTouchDevice()?"touchstart":"click";this._button.addEventListener(e,this._handleDenyButton.bind(this))}window.addEventListener("resize",o.A.debounce(this._setBodyPadding.bind(this),this.options.resizeDebounceTime),{capture:!0,passive:!0})}_registerShowAndHideCookieBarEvents(){document.addEventListener("showCookieBar",this._handleShowCookieBarEvent.bind(this)),document.addEventListener("hideCookieBar",this._handleHideCookieBarEvent.bind(this))}_handleShowCookieBarEvent(){this._setBodyPadding(),this._showCookieBar()}_handleHideCookieBarEvent(){this._removeBodyPadding(),this._hideCookieBar()}_handleDenyButton(e){e.preventDefault();let{cookieExpiration:t,cookieName:i}=this.options;this._hideCookieBar(),this._removeBodyPadding(),n.A.setItem(i,"1",t),this.$emitter.publish("onClickDenyButton")}_calculateCookieBarHeight(){return this.el.offsetHeight}_setBodyPadding(){document.body.style.paddingBottom=`${this._calculateCookieBarHeight()}px`,this.$emitter.publish("setBodyPadding")}_removeBodyPadding(){document.body.style.paddingBottom="0",this.$emitter.publish("removeBodyPadding")}}}}]);